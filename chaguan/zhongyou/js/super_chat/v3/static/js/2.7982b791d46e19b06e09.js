webpackJsonp([2],{"9nJN":function(t,e,s){"use strict";function i(t){s("y4hu")}Object.defineProperty(e,"__esModule",{value:!0});var n=s("MjoH"),r=s("Jvbi"),o=s("C7Lr"),a=i,c=o(n.a,r.a,!1,a,null,null);e.default=c.exports},Jvbi:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"contact"}},[s("van-nav-bar",{attrs:{title:"申请管理","left-text":"返回","left-arrow":""},on:{"click-left":t.onClickLeft}}),t._v(" "),s("van-checkbox-group",{model:{value:t.member,callback:function(e){t.member=e},expression:"member"}},t._l(t.getApplyData,function(e,i){return e.user_info.account_id!=t.getApplyData.wechat_user_id?s("van-checkbox",{key:i,staticClass:"van-cell",attrs:{"icon-size":"28px",name:e.user_info.account_id}},[s("img",{staticClass:"home__mini-avatar___1nSrW",staticStyle:{width:"40px",height:"40px",margin:"5px","border-radius":"50%",float:"left"},attrs:{src:e.user_info.headimgurl}}),t._v(" "),s("span",{staticStyle:{float:"left",height:"50px","line-height":"50px"}},[t._v(t._s(e.user_info.nickname))]),t._v(" "),s("van-button",{staticStyle:{position:"absolute",right:"22vw",top:"50%",transform:"translateY(-50%)"},attrs:{type:"primary",size:"small",id:"showTooltips"},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.argee(e.user_info.account_id)}}},[t._v("同意\n                ")]),t._v(" "),s("van-button",{staticStyle:{position:"absolute",right:"4vw",top:"50%",transform:"translateY(-50%)"},attrs:{type:"danger",size:"small",id:"showTooltips"},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.reject(e.user_info.account_id)}}},[t._v("拒绝\n                ")])],1):t._e()}),1)],1)},n=[],r={render:i,staticRenderFns:n};e.a=r},MjoH:function(t,e,s){"use strict";var i=s("4YfN"),n=s.n(i),r=s("HVJf"),o=s("o6Zs");e.a={data:function(){return{selectUser:"",selectId:"",getApplyData:"",member:[],mid:this.$route.query.mid,groupId:this.$route.query.mid,once:!0}},created:function(){this.$store.state.isConnet&&this.getApplyList()},mounted:function(){},activated:function(){},computed:n()({connect:function(){return this.$store.state.isConnet}},s.i(r.a)({token:function(t){return t.userInfo.token},id:function(t){return t.userInfo.account_id},userInfo:function(t){return t.userInfo}}),{get:function(){return this.$store.state.applyUserList},getAgree:function(){return this.$store.state.isAgree}}),watch:{connect:function(){this.$store.state.isConnet&&this.getApplyList()},get:function(){""!=this.$store.state.applyUserList?this.getApplyData=this.$store.state.applyUserList:1==this.once&&(s.i(o.b)({type:"warning",message:"申请人数为0"}),this.once=!1)},getAgree:function(){if(1==this.$store.state.isAgree){this.once=!1,s.i(o.b)({type:"success",message:"操作成功"});for(var t=0;t<this.getApplyData.length;t++)this.getApplyData[t].user_info.account_id==this._delId&&this.getApplyData.splice(t,1);this._delId=""}else 2==this.$store.state.isAgree&&s.i(o.b)({type:"danger",message:"操作失败"})}},methods:{onClickLeft:function(){this.$route.query.mid?this.$router.push({path:"/chat/index/chat/menu?mid="+this.$route.query.mid}):this.$router.push({path:"/"})},getApplyList:function(){this.$store.state.stopView();var t={operation:"getUserGroupApply",data:{token:localStorage.getItem("token"),wechat_group_id:this.$route.query.mid,wechat_user_id:this.id}};this.$store.dispatch("sendDispatch",t)},argee:function(t){var e={operation:"agreeUserGroupApply",data:{wechat_group_id:this.groupId,wechat_friend_id:t,type:1,token:localStorage.getItem("token"),wechat_user_id:this.id}};this.$store.state.isAgree=0,this._delId=t,this.$store.dispatch("sendDispatch",e)},reject:function(t){var e={operation:"agreeUserGroupApply",data:{wechat_group_id:this.groupId,wechat_friend_id:t,type:2,token:localStorage.getItem("token"),wechat_user_id:this.id}};this.$store.state.isAgree=0,this._delId=t,this.$store.dispatch("sendDispatch",e)},argeeAll:function(){this.$toast.success("操作成功")},rejectAll:function(){this.$toast.success("操作成功")}}}},y4hu:function(t,e,s){var i=s("ykWA");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);s("FIqI")("3ef58216",i,!0,{})},ykWA:function(t,e,s){e=t.exports=s("UTlt")(!0),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"apply.vue",sourceRoot:""}])}});
//# sourceMappingURL=2.7982b791d46e19b06e09.js.map