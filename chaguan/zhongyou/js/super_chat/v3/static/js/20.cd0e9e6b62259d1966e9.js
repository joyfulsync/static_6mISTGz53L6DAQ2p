webpackJsonp([20],{EMRE:function(t,e,s){var o=s("mZlJ");"string"==typeof o&&(o=[[t.i,o,""]]),o.locals&&(t.exports=o.locals);s("FIqI")("6deeec06",o,!0,{})},R8vV:function(t,e,s){"use strict";var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"contact"}},[s("van-nav-bar",{attrs:{title:"成员管理","left-text":"返回","left-arrow":""},on:{"click-left":t.onClickLeft}}),t._v(" "),s("van-checkbox-group",{model:{value:t.member,callback:function(e){t.member=e},expression:"member"}},t._l(t.getGroupData.users,function(e,o){return e.account_id!=t.getGroupData.wechat_user_id&&e.account_id!=t.id?s("van-checkbox",{key:o,staticClass:"van-cell",attrs:{"icon-size":"28px",name:e.account_id}},[s("img",{staticClass:"home__mini-avatar___1nSrW",staticStyle:{width:"40px",height:"40px",margin:"5px","border-radius":"50%",float:"left"},attrs:{src:e.headimgurl}}),t._v(" "),s("span",{staticStyle:{float:"left",height:"50px","line-height":"50px"}},[t._v(t._s(e.nickname))]),t._v(" "),s("van-button",{staticStyle:{position:"absolute",right:"24vw",top:"50%",transform:"translateY(-50%)"},attrs:{type:"primary",size:"small",id:"showTooltips"},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.setGroupManage(e.account_id)}}},[0==e.is_manage?s("span",[t._v("设为管理员")]):t._e(),t._v(" "),1==e.is_manage?s("span",[t._v("取消管理员")]):t._e()]),t._v(" "),s("van-button",{staticStyle:{position:"absolute",right:"4vw",top:"50%",transform:"translateY(-50%)"},attrs:{type:"danger",size:"small",id:"showTooltips"},on:{click:function(s){return s.stopPropagation(),s.preventDefault(),t.deleteMember(e.account_id)}}},[t._v("移除\n                ")])],1):t._e()}),1)],1)},i=[],r={render:o,staticRenderFns:i};e.a=r},fw8o:function(t,e,s){"use strict";function o(t){s("EMRE")}Object.defineProperty(e,"__esModule",{value:!0});var i=s("od5P"),r=s("R8vV"),n=s("C7Lr"),a=o,u=n(i.a,r.a,!1,a,null,null);e.default=u.exports},mZlJ:function(t,e,s){e=t.exports=s("UTlt")(!0),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"manager-member.vue",sourceRoot:""}])},od5P:function(t,e,s){"use strict";var o=s("4YfN"),i=s.n(o),r=s("HVJf"),n=s("o6Zs");e.a={mixins:[window.mixin],data:function(){return{selectUser:"",selectId:"",getGroupData:"",member:[]}},created:function(){if(this.$store.state.isConnet)return this.getGroupInfo(),this.$store.state.friendList},mounted:function(){},activated:function(){},computed:i()({connect:function(){return this.$store.state.isConnet},get:function(){return this.$store.state.groupInfo}},s.i(r.a)({token:function(t){return t.userInfo.token},id:function(t){return t.userInfo.account_id},userInfo:function(t){return t.userInfo}}),{delGroupUserWatch:function(){return this.$store.state.isDelGroupUser},myId:function(){return this.$store.state.userInfo.account_id}}),watch:{connect:function(){this.$store.state.isConnet&&(this.getGroupInfo(),this.lock=!0)},get:function(){""!=this.$store.state.groupInfo&&(this.getGroupData=this.$store.state.groupInfo)},delGroupUserWatch:function(){if(1==this.$store.state.isDelGroupUser){s.i(n.b)({type:"success",message:"踢出成功"}),this.member_id=[];for(var t=0;t<this.getGroupData.users.length;t++)this.getGroupData.users[t].account_id==this._delId&&this.getGroupData.users.splice(t,1);this.selectId="",this.selectUser="",this._delId=""}else 2==this.$store.state.isDelGroupUser&&(s.i(n.b)({type:"danger",message:"踢出失败"}),this.member_id=[],this.selectId="",this.selectUser="",this._delId="")}},methods:{onClickLeft:function(){this.$route.query.mid?this.$router.push({path:"/chat/index/chat/menu?mid="+this.$route.query.mid}):this.$router.push({path:"/chat/index"})},getGroupInfo:function(){if(this.$store.state.stopView(),!this.lock){var t={operation:"getGroupInfo",data:{token:localStorage.getItem("token"),wechat_group_id:this.$route.query.mid}};this.$store.dispatch("sendDispatch",t)}},deleteMember:function(t){var e={operation:"deleteGroupUser",data:{wechat_group_id:this.$route.query.mid,token:localStorage.getItem("token"),wechat_user_id:t,op_id:this.myId}};this.$store.state.isDelGroupUser=0,this._delId=t,this.$store.dispatch("sendDispatch",e)},deleteAllMember:function(){},setGroupManage:function(t){var e={operation:"setGroupManage",data:{wechat_group_id:this.$route.query.mid,token:localStorage.getItem("token"),wechat_user_id:t}};this.$store.dispatch("sendDispatch",e)}}}}});
//# sourceMappingURL=20.cd0e9e6b62259d1966e9.js.map