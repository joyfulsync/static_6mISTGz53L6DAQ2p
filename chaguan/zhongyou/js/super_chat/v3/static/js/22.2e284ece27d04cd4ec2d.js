webpackJsonp([22],{XjjI:function(t,e,s){e=t.exports=s("UTlt")(!0),e.push([t.i,"","",{version:3,sources:[],names:[],mappings:"",file:"group-setting.vue",sourceRoot:""}])},dKqH:function(t,e,s){"use strict";var i=s("o6Zs");e.a={data:function(){return{newGroup:"",applyToJoin:!1,talk:!1,mid:this.$route.query.mid,groupId:this.$route.query.mid,getGroupData:""}},methods:{updateGroup:function(){if(this.myId!=this.get.wechat_user_id)return void this.$dialog.alert({title:"提示",message:"你没有权限修改群名!"}).then(function(){});var t={operation:"updateGroup",data:{token:localStorage.getItem("token"),wechat_group_id:this.$route.query.mid,group_name:this.newGroup,group_desc:""}};this.$store.dispatch("sendDispatch",t)},applyBtn:function(){var t=void 0;t=0==this.applyToJoin?1:0;var e={operation:"setGroupAuth",data:{token:localStorage.getItem("token"),wechat_group_id:this.groupId,is_auth:t,wechat_user_id:this.myId}};this.$store.state.isAuth=0,this.$store.dispatch("sendDispatch",e)},talkBtn:function(){var t=void 0;t=0==this.talk?0:1;var e={operation:"disAllowTalk",data:{token:localStorage.getItem("token"),wechat_group_id:this.groupId,is_can_talk:t,wechat_user_id:this.myId}};this.$store.state.isTalk=0,this.$store.dispatch("sendDispatch",e)},onClickLeft:function(){this.$route.query.mid?this.$router.push({path:"/chat/index/chat/menu?mid="+this.$route.query.mid}):this.$router.push({path:"/chat/index"})},getGroupInfo:function(){this.$store.state.stopView();var t={operation:"getGroupInfo",sign:"12345",data:{token:localStorage.getItem("token"),wechat_group_id:this.mid}};this.$store.dispatch("sendDispatch",t)},toTransferGroup:function(){this.$router.push({path:"/chat/tf",query:{mid:this.$route.query.mid}})}},mounted:function(){},created:function(){this.$store.state.isConnet&&""!=this.$store.state.groupInfo&&this.getGroupInfo()},computed:{connect:function(){return this.$store.state.isConnet},get:function(){return this.$store.state.groupInfo},setAuth:function(){return this.$store.state.isAuth},setTalk:function(){return this.$store.state.isTalk},setScore:function(){return this.$store.state.isScore},setRecord:function(){return this.$store.state.isRecord},isShowSucess:function(){return this.$store.state.isShowSucess},myId:function(){return this.$store.state.userInfo.account_id}},watch:{setAuth:function(){1==this.$store.state.isAuth?s.i(i.b)({type:"success",message:"设置成功"}):2==this.$store.state.isAuth&&(this.applyToJoin=!this.applyToJoin,s.i(i.b)({type:"danger",message:"设置失败"}))},setTalk:function(){1==this.$store.state.isTalk?s.i(i.b)({type:"success",message:"设置成功"}):2==this.$store.state.isTalk&&(this.talk=!this.talk,s.i(i.b)({type:"danger",message:"设置失败"}))},setRecord:function(){1==this.$store.state.isRecord?s.i(i.b)({type:"success",message:"设置成功"}):2==this.$store.state.isRecord&&(this.record=!this.record,s.i(i.b)({type:"danger",message:"设置失败"}))},setScore:function(){1==this.$store.state.isScore?s.i(i.b)({type:"success",message:"设置成功"}):2==this.$store.state.isScore&&(this.record=!this.record,s.i(i.b)({type:"danger",message:"设置失败"}))},connect:function(){this.$store.state.isConnet&&this.getGroupInfo()},get:function(){""!=this.$store.state.groupInfo&&(this.getGroupData=this.$store.state.groupInfo,this.newGroup=this.getGroupData.group_name,0==this.getGroupData.is_auth?this.applyToJoin=!1:this.applyToJoin=!0,1==this.getGroupData.is_can_talk?this.talk=!1:this.talk=!0)},isShowSucess:function(){1==this.isShowSucess&&this.get.wechat_user_id==this.myId&&this.$toast.success("操作成功")}}}},fUCW:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"dialogue-info",staticStyle:{background:"none"}},[s("van-nav-bar",{attrs:{title:"群设置","left-text":"返回","left-arrow":""},on:{"click-left":t.onClickLeft}}),t._v(" "),s("div",{staticClass:"weui-cells"},[t.get.wechat_user_id==t.myId?s("van-field",{attrs:{border:"",label:"群名称"},model:{value:t.newGroup,callback:function(e){t.newGroup=e},expression:"newGroup"}}):t._e(),t._v(" "),s("van-field",{attrs:{"input-align":"right","label-width":"140px",name:"switch",label:"入群是否需要审核"},scopedSlots:t._u([{key:"input",fn:function(){return[s("van-switch",{attrs:{size:"20"},on:{click:t.applyBtn},model:{value:t.applyToJoin,callback:function(e){t.applyToJoin=e},expression:"applyToJoin"}})]},proxy:!0}])}),t._v(" "),s("van-field",{attrs:{"input-align":"right",name:"switch",label:"启用禁言"},scopedSlots:t._u([{key:"input",fn:function(){return[s("van-switch",{attrs:{size:"20"},on:{click:t.talkBtn},model:{value:t.talk,callback:function(e){t.talk=e},expression:"talk"}})]},proxy:!0}])}),t._v(" "),s("van-button",{staticStyle:{width:"90%","margin-left":"5%","margin-top":"20px","margin-bottom":"20px"},attrs:{type:"primary",size:"large"},on:{click:t.updateGroup}},[t._v("提交")])],1)],1)},o=[],a={render:i,staticRenderFns:o};e.a=a},tyLF:function(t,e,s){"use strict";function i(t){s("wUKK")}Object.defineProperty(e,"__esModule",{value:!0});var o=s("dKqH"),a=s("fUCW"),n=s("C7Lr"),r=i,u=n(o.a,a.a,!1,r,null,null);e.default=u.exports},wUKK:function(t,e,s){var i=s("XjjI");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);s("FIqI")("ece7dda2",i,!0,{})}});
//# sourceMappingURL=22.2e284ece27d04cd4ec2d.js.map